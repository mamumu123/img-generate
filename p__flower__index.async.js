"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[243],{23944:function(z,O,e){e.r(O),e.d(O,{default:function(){return Q}});var A=e(15009),C=e.n(A),R=e(99289),b=e.n(R),D=e(5574),h=e.n(D),y={national:[{key:"ah2",img:"date/ten/ah2.png"},{key:"ah3",img:"date/ten/ah3.png"},{key:"ah4",img:"date/ten/ah4.png"},{key:"ah5",img:"date/ten/ah5.png"},{key:"ah6",img:"date/ten/ah6.png"},{key:"ah8",img:"date/ten/ah8.png"},{key:"ah10",img:"date/ten/ah10.png"}]},M=Object.keys(y),U={national:"\u56FD\u5E86"},B=e(64868),m=e(90930),p=e(78356),i=e(71230),l=e(15746),u=e(49053),g=e(72708),L=e(97029),a=e(62435),d={container:"container___ZIIzm",left:"left___qI5Vi",img__container:"img__container___p4kW2",right:"right___HQnUj",button__box:"button__box___JN69e"},x=function(o,f){var E=new FileReader;E.addEventListener("load",function(){return f(E.result)}),E.readAsDataURL(o)},c=e(1413),S=e(15294),P=e(91146),v=function(o,f){return a.createElement(P.Z,(0,c.Z)((0,c.Z)({},o),{},{ref:f,icon:S.Z}))};v.displayName="LoadingOutlined";var Z=a.forwardRef(v),N=e(42110),j=function(o,f){return a.createElement(P.Z,(0,c.Z)((0,c.Z)({},o),{},{ref:f,icon:N.Z}))};j.displayName="PlusOutlined";var H=a.forwardRef(j),J=e(19515),t=e(86074),Y=function(){var o=(0,a.useRef)(null),f=(0,a.useState)(""),E=h()(f,2),k=E[0],V=E[1],X=(0,a.useState)(""),G=h()(X,2),T=G[0],q=G[1],ee=(0,a.useState)(!1),w=h()(ee,2),ne=w[0],$=w[1],ae=function(n){var _=n.type==="image/jpeg"||n.type==="image/png";return _||p.ZP.error("You can only upload JPG/PNG file!"),$(!0),x(n,function(I){$(!1),q(I)}),!1},te=(0,t.jsxs)("div",{children:[ne?(0,t.jsx)(Z,{}):(0,t.jsx)(H,{}),(0,t.jsx)("div",{style:{marginTop:8},children:"\u70B9\u51FB\u4E0A\u4F20"})]});(0,a.useEffect)(function(){b()(C()().mark(function r(){var n,_,I;return C()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(o.current){s.next=2;break}return s.abrupt("return");case 2:if(n=o.current.getContext("2d"),n){s.next=5;break}return s.abrupt("return");case 5:return n==null||n.clearRect(0,0,200,200),n.beginPath(),n.rect(0,0,200,200),n.fillStyle="#fff",n.fill(),_=[T,k].filter(function(W){return!!W}),s.next=13,Promise.all(_.map(J.po));case 13:I=s.sent,I.forEach(function(W){n==null||n.drawImage(W,0,0,200,200)});case 15:case"end":return s.stop()}},r)}))()},[k,T]);var re=function(n,_){V(_)},oe=M.map(function(r){return{key:r,label:U[r],children:(0,t.jsx)(i.Z,{children:y[r].map(function(n){return(0,t.jsx)(l.Z,{span:8,children:(0,t.jsx)("div",{className:d.img__container,onClick:function(){return re(r,n.img)},style:{cursor:"pointer",borderRadius:5,border:"2px solid ".concat(k===n.key?"yellowgreen":"#000","  ")},children:(0,t.jsx)("img",{crossOrigin:"anonymous",src:n.img,alt:""})})},n.key)})})}}),ie=(0,a.useState)("national"),F=h()(ie,2),se=F[0],le=F[1],ue=function(n){console.log("currentTab",se),le(n)},de=function(){return(0,t.jsx)("div",{className:d.left,children:(0,t.jsx)(u.Z,{tabPosition:"left",defaultActiveKey:"1",items:oe,onChange:ue})})},me=function(){return(0,t.jsxs)("div",{className:d.right,children:[(0,t.jsx)(g.Z,{name:"avatar",listType:"picture-card",className:"avatar-uploader",showUploadList:!1,beforeUpload:ae,children:T?(0,t.jsx)("img",{crossOrigin:"anonymous",src:T,alt:"avatar",style:{width:"100%"}}):te}),(0,t.jsx)("div",{children:(0,t.jsx)("canvas",{id:"canvas",ref:o,width:"200",height:"200"})}),(0,t.jsx)("div",{className:d.button__box,children:(0,t.jsx)(L.ZP,{size:"small",type:"primary",onClick:function(){return(0,B.L)(o)},children:"\u4E0B\u8F7D\u5934\u50CF"})})]})};return(0,t.jsx)(m._z,{ghost:!0,children:(0,t.jsxs)("div",{className:d.container,children:[de(),me()]})})},Q=Y},64868:function(z,O,e){e.d(O,{L:function(){return U},n:function(){return B}});var A=e(5574),C=e.n(A),R=e(15009),b=e.n(R),D=e(99289),h=e.n(D),y=e(78356),M=e(19515),U=function(){var m=h()(b()().mark(function p(i){var l,u,g;return b()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!(0,M.e3)()){a.next=4;break}y.ZP.info({content:"\u7531\u4E8E\u5FAE\u4FE1\u6D4F\u89C8\u5668\u7684\u9650\u5236\uFF0C\u65E0\u6CD5\u4E0B\u8F7D\u56FE\u7247\uFF0C\u8BF7\u3010\u957F\u6441\u5934\u50CF\u4FDD\u5B58\u4E3A\u56FE\u7247\u3011\u6216\u8005\u53F3\u4E0A\u89D2\u7528\u7CFB\u7EDF\u6D4F\u89C8\u5668\u6253\u5F00\u4F7F\u7528\uFF0C\u8C22\u8C22\u3002"}),a.next=13;break;case 4:if(l=i.current,u=document.createElement("a"),l){a.next=9;break}return y.ZP.error("\u9047\u5230\u4E00\u4E9B\u95EE\u9898\uFF0C\u8BF7\u7A0D\u540E\u518D\u8BD5"),a.abrupt("return");case 9:u.href=l.toDataURL(),u.download="\u6587\u4EF6\u540D\u79F0",g=new MouseEvent("click"),u.dispatchEvent(g);case 13:case"end":return a.stop()}},p)}));return function(i){return m.apply(this,arguments)}}();function B(m,p){var i=C()(p,4),l=i[0],u=l===void 0?0:l,g=i[1],L=g===void 0?0:g,a=i[2],d=a===void 0?m.width:a,x=i[3],c=x===void 0?m.height:x,S=m.getContext("2d"),P=S.getImageData(u,L,d,c),v=document.createElement("canvas");v.width=d,v.height=c;var Z=v.getContext("2d");Z.putImageData(P,0,0),console.log("tempCtx",P),v.toBlob(function(N){var j=document.createElement("a");j.download="canvas.png",j.href=URL.createObjectURL(N),j.click()},"image/png")}}}]);
